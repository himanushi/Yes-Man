# 機能仕様: [機能名]

**機能ブランチ**: `feature/[###-feature-name]`  
**作成日**: [日付]  
**状態**: ドラフト  
**入力**: ユーザー説明: "$ARGUMENTS"

## 実行フロー（メイン）
```
1. 入力からユーザー説明をパース
   → 空の場合: エラー「機能説明が提供されていません」
2. 説明から主要な概念を抽出
   → 識別: アクター、アクション、データ、制約
3. 不明な側面ごとに:
   → [NEEDS CLARIFICATION: 具体的な質問] でマーク
4. ユーザーシナリオ & テストセクションを埋める
   → 明確なユーザーフローがない場合: エラー「ユーザーシナリオを特定できません」
5. 機能要件を生成
   → 各要件はテスト可能である必要がある
   → 曖昧な要件をマーク
6. 主要エンティティを特定（データが関係する場合）
7. レビューチェックリストを実行
   → [NEEDS CLARIFICATION] がある場合: 警告「仕様に不確実性があります」
   → 実装詳細が見つかった場合: エラー「技術詳細を削除してください」
8. 戻り値: 成功（計画準備完了）
```

---

## ⚡ クイックガイドライン
- ✅ ユーザーが何を必要とし、なぜ必要かに焦点を当てる
- ❌ 実装方法を避ける（技術スタック、API、コード構造なし）
- 👥 開発者ではなくビジネスステークホルダー向けに記述

### セクション要件
- **必須セクション**: すべての機能で完成必須
- **オプションセクション**: 機能に関連する場合のみ含める
- セクションが適用されない場合は完全に削除（「N/A」として残さない）

### AI 生成用
ユーザープロンプトからこの仕様を作成する場合:
1. **すべての曖昧さをマーク**: 仮定する必要があるものには [NEEDS CLARIFICATION: 具体的な質問] を使用
2. **推測しない**: プロンプトで指定されていないもの（例:認証方法のない「ログインシステム」）はマークする
3. **テスターのように考える**: 曖昧な要件はすべて「テスト可能で明確」チェックリスト項目で失敗するはず
4. **一般的に不十分な領域**:
   - ユーザータイプと権限
   - データ保持/削除ポリシー  
   - パフォーマンス目標とスケール
   - エラー処理の動作
   - 統合要件
   - セキュリティ/コンプライアンスニーズ

---

## ユーザーシナリオ & テスト *(必須)*

### 主要ユーザーストーリー
[主要なユーザージャーニーを平易な言葉で説明]

### 受入シナリオ
1. **前提** [初期状態]、**操作** [アクション]、**結果** [期待される結果]
2. **前提** [初期状態]、**操作** [アクション]、**結果** [期待される結果]

### エッジケース
- [境界条件] のときに何が起こるか？
- システムは [エラーシナリオ] をどう処理するか？

## 要件 *(必須)*

### 機能要件
- **FR-001**: システムは [具体的機能、例：「ユーザーがアカウントを作成できる」] 必須
- **FR-002**: システムは [具体的機能、例：「メールアドレスを検証する」] 必須  
- **FR-003**: ユーザーは [主要な操作、例：「パスワードをリセットする」] ことができる必須
- **FR-004**: システムは [データ要件、例：「ユーザー設定を永続化する」] 必須
- **FR-005**: システムは [動作、例：「すべてのセキュリティイベントをログに記録する」] 必須

*不明確な要件をマークする例:*
- **FR-006**: システムは [NEEDS CLARIFICATION: 認証方法が未指定 - email/password、SSO、OAuth?] でユーザーを認証する必須
- **FR-007**: システムは [NEEDS CLARIFICATION: 保持期間が未指定] ユーザーデータを保持する必須

### 主要エンティティ *(機能がデータを扱う場合は含める)*
- **[エンティティ1]**: [何を表すか、実装を除いた主要属性]
- **[エンティティ2]**: [何を表すか、他のエンティティとの関係]

---

## レビュー & 受入チェックリスト
*ゲート: main() 実行中に自動チェックが実行される*

### コンテンツ品質
- [ ] 実装詳細なし（言語、フレームワーク、API）
- [ ] ユーザー価値とビジネスニーズに焦点
- [ ] 非技術系ステークホルダー向けに記述
- [ ] すべての必須セクションが完成

### 要件の完全性
- [ ] [NEEDS CLARIFICATION] マーカーが残っていない
- [ ] 要件がテスト可能で明確  
- [ ] 成功基準が測定可能
- [ ] スコープが明確に境界付けられている
- [ ] 依存関係と仮定が特定されている

---

## 実行状態
*処理中に main() で更新*

- [ ] ユーザー説明をパース
- [ ] 主要概念を抽出
- [ ] 曖昧さをマーク
- [ ] ユーザーシナリオを定義
- [ ] 要件を生成
- [ ] エンティティを特定
- [ ] レビューチェックリストを通過

---
